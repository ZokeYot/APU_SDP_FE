<main>
    <div *ngIf="!showMaterialDetails">
      <input type="search" class="text-2xl rounded-full block ml-auto mr-[100px] mt-20 px-2 py-2" placeholder="Search Material" (input)="searchMaterial($event)"/>
      <button *ngIf="role === 'lecturer'"(click)="uploadFile()" 
      class="text-2xl w-fit my-3 text-white font-bold bg-green-500 py-2 px-3 rounded-lg ml-auto mr-[100px] mt-10 hover:bg-green-800 block">Add Material</button>
      <input id="file-input" type="file" class="hidden" (change)="fileUploaded($event)">
      
      <div class="flex flex-wrap justify-around" *ngIf="filteredMaterials.length === 0">
        <div *ngFor="let material of materials" class="bg-white flex items-center my-10 w-[400px] h-[150px] p-10 justify-around rounded-lg" 
          (click)="viewMaterialDetail(material)">
          
          <div>
            <img [src]="getFilePreview(material.name, material.type, material.file)" class="w-[100px] h-[100px]" >
  
          </div>
        
          <div class="ml-5">
              <div class="font-bold">{{material.name}}</div>
              <div class="text-sm">Upload Date : {{material.addedDate}}</div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="showMaterialDetails">
      <div class="mx-auto max-w-[1000px] flex">
          <button class="bg-gray-600 text-white font-bold ml-10 py-2 px-5 rounded-xl -translate-y-3 overflow-hidden hover:bg-gray-800" 
          (click)="backToList()">Back</button>
      </div>
      <app-material-details [material]="selectedMaterial"></app-material-details>
    </div>

    <div *ngIf="!showMaterialDetails">
      <div class="flex flex-wrap justify-around "  *ngIf="filteredMaterials.length > 0">
        <div *ngFor="let material of filteredMaterials" class="bg-white flex items-center my-10 w-[400px] h-[150px] p-10 justify-around rounded-lg"
        (click)="viewMaterialDetail(material)">
          <div>
            <img [src]="getFilePreview(material.name, material.type, material.file)" class="w-[100px] h-[100px]" >
          </div>
        
          <div class="ml-5">
              <div class="font-bold">{{material.name}}</div>
              <div class="text-sm">Upload Date : {{material.addedDate}}</div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
